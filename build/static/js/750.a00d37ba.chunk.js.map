{"version":3,"file":"static/js/750.a00d37ba.chunk.js","mappings":"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","sources":["component/AuthForm.js","component/Authantication.js"],"sourcesContent":["import React from \"react\";\r\n\r\nconst AuthForm = ({ label = \"Sign in\", values, handleForm, actionBtn }) => {\r\n  return (\r\n    <div className=\"relative flex flex-col justify-center min-h-screen overflow-hidden\">\r\n      <div className=\"w-full p-6 m-auto bg-white rounded-md shadow-md lg:max-w-xl\">\r\n        {/* <h1 className=\"text-3xl font-semibold text-center text-sky-700 underline\">\r\n          {label}\r\n        </h1> */}\r\n        <form className=\"mt-6\">\r\n          <div className=\"mb-2\">\r\n            <label\r\n              htmlFor=\"email\"\r\n              className=\"block text-sm font-semibold text-gray-800\"\r\n            >\r\n              Email\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              className=\"block w-full px-4 py-2 mt-2 text-gray-900 bg-white border rounded-md focus:border-purple-400 focus:ring-purple-300 focus:outline-none focus:ring focus:ring-opacity-40\"\r\n              value={values?.email}\r\n              name=\"email\"\r\n              onChange={(e) => handleForm(e)}\r\n            />\r\n          </div>\r\n          {label !== \"Sign in\" ? (\r\n            <div className=\"mb-2\">\r\n              <label\r\n                htmlFor=\"userName\"\r\n                className=\"block text-sm font-semibold text-gray-900\"\r\n              >\r\n                User name\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"block w-full px-4 py-2 mt-2 text-gray-900 bg-white border rounded-md focus:border-purple-400 focus:ring-purple-300 focus:outline-none focus:ring focus:ring-opacity-40\"\r\n                value={values?.userName}\r\n                name=\"userName\"\r\n                onChange={(e) => handleForm(e)}\r\n              />\r\n            </div>\r\n          ) : null}\r\n          <div className=\"mb-2\">\r\n            <label\r\n              htmlFor=\"password\"\r\n              className=\"block text-sm font-semibold text-gray-800\"\r\n            >\r\n              Password\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              className=\"block w-full px-4 py-2 mt-2 text-gray-900 bg-white border rounded-md focus:border-purple-400 focus:ring-purple-300 focus:outline-none focus:ring focus:ring-opacity-40\"\r\n              name=\"password\"\r\n              onChange={(e) => handleForm(e)}\r\n              value={values.password}\r\n            />\r\n          </div>\r\n          <div className=\"mt-6\">{actionBtn}</div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AuthForm;\r\n","import { useMutation } from \"@tanstack/react-query\";\r\nimport React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { request } from \"../utils/axios\";\r\nimport AuthForm from \"./AuthForm\";\r\n\r\nconst Authantication = () => {\r\n  const [values, setValues] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const [form, setForm] = useState(\"Sign in\");\r\n  const [userName, setUserName] = useState(\"\");\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const { mutate } = useMutation({\r\n    mutationKey: \"athenticate\",\r\n    mutationFn: ({ values, api }) => {\r\n      return request\r\n        .post(api, values)\r\n        .then((data) => {\r\n          localStorage.setItem(\"user\", JSON.stringify(data?.data?.data?.user));\r\n          navigate(\"/\", { replace: true });\r\n        })\r\n        .catch((error) => {\r\n          console.log({ error });\r\n          if (form === \"Sign in\") {\r\n            alert(error.response.data.data.message);\r\n          } else {\r\n            alert(error.response.data.message);\r\n          }\r\n        });\r\n    },\r\n    onSuccess: (data) => {},\r\n    onError: (err) => {\r\n      console.log({ err });\r\n      alert(`${form} unsuccessful!`);\r\n    },\r\n  });\r\n\r\n  const handleForm = (e) => {\r\n    if (!(e.target.name === \"userName\")) {\r\n      setValues((prev) => ({ ...prev, [e.target.name]: e.target.value }));\r\n    } else {\r\n      setUserName(e.target.value);\r\n    }\r\n  };\r\n\r\n  const submitForm = async () => {\r\n    try {\r\n      if (form === \"Sign in\") {\r\n        await mutate({ values, api: \"/api/login\" });\r\n      } else {\r\n        await mutate({ values: { ...values, userName }, api: \"/api/register\" });\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  const actionBtn = (\r\n    <button\r\n      type=\"button\"\r\n      className=\"w-full px-4 py-2 tracking-wide text-white bg-sky-700 transition-colors duration-75 transform  rounded-md hover:bg-sky-600 focus:outline-none focus:bg-sky-600\"\r\n      onClick={submitForm}\r\n    >\r\n      {form}\r\n    </button>\r\n  );\r\n\r\n  return (\r\n    <div className=\"\">\r\n      <div className=\"\">\r\n        <div className=\"flex items-center justify-center gap-4 my-5\">\r\n          <span\r\n            className={`${\r\n              form === \"Sign in\" ? \"text-sky-700 underline\" : \"\"\r\n            } text-xl`}\r\n            tabIndex=\"0\"\r\n            role=\"button\"\r\n            onClick={() => setForm(\"Sign in\")}\r\n          >\r\n            Sign in\r\n          </span>\r\n          <span\r\n            className={`${\r\n              form === \"Sign up\" ? \"text-sky-700 underline\" : \"\"\r\n            } text-xl`}\r\n            tabIndex=\"0\"\r\n            role=\"button\"\r\n            onClick={() => setForm(\"Sign up\")}\r\n          >\r\n            Sign up\r\n          </span>\r\n        </div>\r\n        <div>\r\n          <AuthForm\r\n            label={form}\r\n            values={{ ...values, userName }}\r\n            handleForm={handleForm}\r\n            actionBtn={actionBtn}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Authantication;\r\n"],"names":["label","values","handleForm","actionBtn","className","htmlFor","type","value","email","name","onChange","e","userName","password","useState","setValues","form","setForm","setUserName","navigate","useNavigate","useMutation","mutationKey","mutationFn","api","request","then","data","localStorage","setItem","JSON","stringify","user","replace","catch","error","console","log","alert","response","message","onSuccess","onError","err","mutate","submitForm","onClick","tabIndex","role","target","prev"],"sourceRoot":""}